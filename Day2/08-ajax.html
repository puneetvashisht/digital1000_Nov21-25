<html>
<head>
	<title>Ajax</title>
	<script src="jquery/jquery-3.1.1.min.js"></script>
	<style>
		.error{
			color: magenta;
		}
		.welcome{
			color: green;
		}
	</style>
	
	<script>
		$(document).ready(function(){
			$(':button').click(function(){
				var user = $(':text').val().trim();
				var pwd = $(':password').val().trim();
				var userData = {
					username: user,
					passowrd: pwd
				}
				
				$.ajax({
					type: 'get',
					url: './dummyServer/loginUser.json',
					data: userData,
					dataType: 'json',
					success: function(data){
						console.log(data);
						if(data.success){
							$('span').addClass('welcome').html("Welcome "+userData.username);
							$('form').hide(2000);
						} else{
							$('span').addClass('error').html("Invalid user");
						}
					},
					error: function(xhr, status, errorMessage){
						console.log(errorMessage)
						console.log(status)
					}
				})
			})
		})
	</script>
</head>
<body>
	<h1>Login Page</h1>	
	<span></span>
	<form>
		Username:<input type="text" placeholder="Enter your userid"/><br/>
		Password:<input type="password" placeholder="Enter your password"/>
		<br/>
		<input type="button" value="Login"/>
	</form>
	
</body>
</html>